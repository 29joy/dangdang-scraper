====== 图片处理流程 ======
image_process
    validate_image_with_retry
        if is_valid
            download_image
                if download_success
                    return os.path.basename(img_path), img_path
                else
                    fail_download_image_add_logging
        else
            if not_valid_reason not in ["Network Response Failed", "Incomplete Image"]
                return "No Image or Placeholder", "No Image"
            else
                return not_valid_reason, "No Image"

====== 判断图片是否有效子流程 ======
validate_image_with_retry
    is_valid_image
        if not is_valid
            if not_valid_reason not in ["Network Response Failed", "Incomplete Image"]
                return
            else
                for num_of_retry in range(1, total_num_of_retry + 1)
                    is_valid_image
                        if is_valid
                            break
                        else
                            if not_valid_reason not in ["Network Response Failed", "Incomplete Image"]
                                break
                            else
                                if num_of_retry == total_num_of_retry
                                    context.img_validation_fail_list.append
        return is_valid, img_url, reason

====== 图片下载失败重试流程图 ======
第一次下载
    成功 == success
    失败 -> 进入第一次下载失败列表
final_download_for_fail_img
    if len(context.first_download_fail_list)
    for num_of_retry in range(1, total_num_of_retry + 1)
        for item in context.first_download_fail_list
            if not item["Retry_Success"]
                download_image
                    if download_success
                        修改all_pages_data中的image_status和img_path记录
                        "Retry_Success" = True
                    else
                        if num_of_retry == total_num_of_retry
                            fail_download_image_add_logging
